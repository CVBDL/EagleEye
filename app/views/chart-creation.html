<div class="ee-view">
  <div class="ee-view__content-container">
    <md-card class="ee-layout--no-margin">
      <md-toolbar class="ee-toolbar">
        <div class="md-toolbar-tools">
          <h3 class="ee-text-black-primary">Create chart</h3>
          <span flex></span>
          <md-button class="md-icon-button" aria-label="Help">
            <md-tooltip md-direction="botton">Help</md-tooltip>
            <md-icon md-font-set="material-icons" class="ee-icon ee-icon--accent" ng-click="newChart.showHelp($event)"> help_outline </md-icon>
          </md-button>
          <md-button class="md-icon-button" aria-label="Save">
            <md-tooltip md-direction="botton">Save</md-tooltip>
            <md-icon md-font-set="material-icons" class="ee-icon ee-icon--accent" ng-click="newChart.save()"> save </md-icon>
          </md-button>
        </div>
      </md-toolbar>
      <md-divider></md-divider>
      <md-content class="ee-content" layout-padding>
        <form name="ChartCreationForm">
          <div layout="row">
            <md-input-container flex="50">
              <label>Title</label>
              <input required name="chartTitle" ng-model="newChart.settings.options.title">
              <div ng-messages="ChartCreationForm.chartTitle.$error">
                <div ng-message="required">This is required.</div>
              </div>
            </md-input-container>
            <md-input-container flex>
              <label>Chart types</label>
              <md-select ng-model="newChart.selectedChartTypeOption" ng-model-options="{ trackBy: '$value.value' }">
                <md-option ng-repeat="chartTypeOption in newChart.chartTypeOptions" ng-value="{{chartTypeOption}}">
                  {{chartTypeOption.label}}
                </md-option>
              </md-select>
            </md-input-container>
            <md-input-container flex>
              <label>Major axis data types</label>
              <md-select ng-model="newChart.settings.domainDataType">
                <md-option value="string">String</md-option>
                <md-option value="number">Number</md-option>
                <md-option value="date">Date</md-option>
                <md-option value="datetime">Datetime</md-option>
              </md-select>
            </md-input-container>
            <md-input-container flex>
              <label>Stacked or not</label>
              <md-select ng-model="newChart.settings.options.isStacked">
                <md-option ng-value="option.value" ng-repeat="option in newChart.stackOptions">{{option.label}}</md-option>
              </md-select>
            </md-input-container>
          </div>
          <div layout="row">
            <md-input-container flex="50">
              <label>Friendly url</label>
              <input name="chartFriendlyUrl" ng-model="newChart.settings.friendlyUrl">
            </md-input-container>
            <md-input-container flex>
              <label>Percent on V-axis</label>
              <md-select ng-model="newChart.settings.options.vAxis.format">
                <md-option ng-value="option.value" ng-repeat="option in newChart.formatOptions">{{option.label}}</md-option>
              </md-select>
            </md-input-container>
            <md-input-container flex>
              <label>Percent on H-axis</label>
              <md-select ng-model="newChart.settings.options.hAxis.format">
                <md-option ng-value="option.value" ng-repeat="option in newChart.formatOptions">{{option.label}}</md-option>
              </md-select>
            </md-input-container>
            <md-input-container flex ng-if="newChart.selectedChartTypeOption.value === 'ComboChart'">
              <label>Lines: Default 1</label>
              <input name="chartCombolines" ng-model="newChart.settings.options.combolines">
            </md-input-container>
          </div>
          <div layout="row">
            <md-input-container flex="50">
              <label>Description</label>
              <input name="chartDescription" ng-model="newChart.settings.description">
            </md-input-container>
            <md-input-container flex>
              <label>H-axis title</label>
              <input name="chartHAxisTitle" ng-model="newChart.settings.options.hAxis.title">
            </md-input-container>
            <md-input-container flex>
              <label>V-axis title</label>
              <input name="chartVAxisTitle" ng-model="newChart.settings.options.vAxis.title">
            </md-input-container>
            <md-input-container flex>
              <label>chartArea.left</label>
              <input name="chartAreaLeft" ng-model="newChart.settings.options.chartArea.left">
            </md-input-container>
            <md-input-container flex>
              <label>chartArea.width</label>
              <input name="chartAreaWidth" ng-model="newChart.settings.options.chartArea.width">
            </md-input-container>
          </div>
        </form>
      </md-content>
      <md-divider></md-divider>
      <md-content class="ee-content" layout-padding layout="row">
        <div flex="100">
          <p>Live demo:</p>
          <ee-google-chart-sample class="ee-google-chart" chart-type="{{newChart.selectedChartTypeOption.construcorName}}" chart-major-axis-data-type="{{newChart.settings.domainDataType}}" chart-options="newChart.settings.options">
          </ee-google-chart-sample>
        </div>
      </md-content>
    </md-card>
  </div>
</div>
